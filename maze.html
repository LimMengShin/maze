<style>#controls,#u,body,canvas{margin:10px;text-align:center;font-family:Arial}canvas{border:solid}</style><h1>Maze</h1><p>Press and hold the WASD keys to navigate through the maze!</p><div id="controls"><label for="d">Difficulty:</label> <select id="d"><option value="e">Easy</option><option value="m" selected="selected">Medium</option><option value="h">Hard</option><option value="i">Impossible</option></select></div><canvas id="m"></canvas><div id="u">Reach the green square!</div><div id="p">Time Left: <span id="b"></span> seconds</div><div id="j">Total Score: <span id="k">0</span></div><script>var s,b,rows,m,w,n,p,j,g,v,z=(id=e=>document.getElementById(e))("m"),e=z.getContext("2d"),d=id("d"),a=id("b"),c=id("k"),k=[[0,-1],[0,1],[-1,0],[1,0]];function h(){z.width=z.height=rows*s,e.clearRect(0,0,z.width,z.height),m.map((t,r)=>t.map((t,n)=>{e.fillStyle=t?"black":"white",e.fillRect(n*s,r*s,s,s)})),e.fillStyle="red",e.fillRect(w.x*s,w.y*s,s,s),e.fillStyle="green",e.fillRect(n.x*s,n.y*s,s,s)}function mp(e){let t=w.x,r=w.y;"w"===e?r--:"s"===e?r++:"a"===e?t--:"d"===e&&t++,0<=t&&0<=r&&t<rows&&r<rows&&0===m[r][t]&&(w.x=t,w.y=r,h(),w.x===n.x)&&w.y===n.y&&(clearInterval(p),clearInterval(g),document.getElementById("u").textContent="You reached the goal! :yay:",j+=b,c.textContent=j)}function init(){clearInterval(p),clearInterval(g);var e=d.value;s="e"===e?55:"m"===e?29:"h"===e?15:10,b="e"===e?10:"m"===e?30:"h"===e?60:120,w={x:0,y:0},n={x:(rows="e"===e?11:"m"===e?21:"h"===e?41:61)-1,y:rows-1},j=j||0,m=Array(rows).fill().map(()=>Array(rows).fill(1)),function e(t,n){var r,a;m[n][t]=0;for([r,a]of k.sort(()=>Math.random()-.5)){var l=t+2*r,o=n+2*a;0<=l&&0<=o&&l<rows&&o<rows&&1===m[o][l]&&(m[n+a][t+r]=0,e(l,o))}}(w.x,w.y),m[n.y][n.x]=0,h(),a.textContent=b,document.getElementById("u").textContent="Reach the green square!",p=setInterval(()=>{0<b?(b--,a.textContent=b):(clearInterval(p),document.getElementById("u").textContent="Time's up! Try again.")},1e3)}document.addEventListener("keydown",e=>{v||(v=e.key,g=setInterval(()=>mp(v),50))}),document.addEventListener("keyup",e=>{e.key===v&&(clearInterval(g),v=g=0)}),d.addEventListener("change",init),init()</script>